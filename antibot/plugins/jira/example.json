{
  "transition": {
    "workflowId": 53426,
    "workflowName": "Workflow for Project FT with only 3 states",
    "transitionId": 31,
    "transitionName": "Done",
    "from_status": "In Review",
    "to_status": "Done"
  },
  "comment": "",
  "user": {
    "self": "https://jira.antidot.net/rest/api/2/user?username=jgiard",
    "name": "jgiard",
    "key": "jgiard",
    "emailAddress": "jgiard@antidot.net",
    "avatarUrls": {
      "48x48": "https://jira.antidot.net/secure/useravatar?ownerId=jgiard&avatarId=10430",
      "24x24": "https://jira.antidot.net/secure/useravatar?size=small&ownerId=jgiard&avatarId=10430",
      "16x16": "https://jira.antidot.net/secure/useravatar?size=xsmall&ownerId=jgiard&avatarId=10430",
      "32x32": "https://jira.antidot.net/secure/useravatar?size=medium&ownerId=jgiard&avatarId=10430"
    },
    "displayName": "Jean Giard",
    "active": true,
    "timeZone": "Europe/Paris"
  },
  "issue": {
    "id": "37626",
    "self": "https://jira.antidot.net/rest/api/2/issue/37626",
    "key": "FT-4142",
    "fields": {
      "issuetype": {
        "self": "https://jira.antidot.net/rest/api/2/issuetype/1",
        "id": "1",
        "description": "A problem which impairs or prevents the functions of the product.",
        "iconUrl": "https://jira.antidot.net/secure/viewavatar?size=xsmall&avatarId=10703&avatarType=issuetype",
        "name": "Bug",
        "subtask": false,
        "avatarId": 10703
      },
      "timespent": null,
      "project": {
        "self": "https://jira.antidot.net/rest/api/2/project/10002",
        "id": "10002",
        "key": "FT",
        "name": "Fluid Topics",
        "avatarUrls": {
          "48x48": "https://jira.antidot.net/secure/projectavatar?pid=10002&avatarId=11301",
          "24x24": "https://jira.antidot.net/secure/projectavatar?size=small&pid=10002&avatarId=11301",
          "16x16": "https://jira.antidot.net/secure/projectavatar?size=xsmall&pid=10002&avatarId=11301",
          "32x32": "https://jira.antidot.net/secure/projectavatar?size=medium&pid=10002&avatarId=11301"
        }
      },
      "customfield_11000": "{summaryBean=com.atlassian.jira.plugin.devstatus.rest.SummaryBean@530e989c[summary={pullrequest=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e636580[overall=PullRequestOverallBean{stateCount=0, state='OPEN', details=PullRequestOverallDetails{openCount=0, mergedCount=0, declinedCount=0}},byInstanceType={}], build=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@604b8a14[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BuildOverallBean@561bcf8[failedBuildCount=0,successfulBuildCount=0,unknownBuildCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], review=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@34746a7e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.ReviewsOverallBean@4224daf4[stateCount=0,state=<null>,dueDate=<null>,overDue=false,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], deployment-environment=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@7e83e38e[overall=com.atlassian.jira.plugin.devstatus.summary.beans.DeploymentOverallBean@768d06da[topEnvironments=[],showProjects=false,successfulCount=0,count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], repository=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@61bdb5ef[overall=com.atlassian.jira.plugin.devstatus.summary.beans.CommitOverallBean@52a3056[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}], branch=com.atlassian.jira.plugin.devstatus.rest.SummaryItemBean@64543cee[overall=com.atlassian.jira.plugin.devstatus.summary.beans.BranchOverallBean@7af14d68[count=0,lastUpdated=<null>,lastUpdatedTimestamp=<null>],byInstanceType={}]},errors=[],configErrors=[]], devSummaryJson={\"cachedValue\":{\"errors\":[],\"configErrors\":[],\"summary\":{\"pullrequest\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":\"OPEN\",\"details\":{\"openCount\":0,\"mergedCount\":0,\"declinedCount\":0,\"total\":0},\"open\":true},\"byInstanceType\":{}},\"build\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"failedBuildCount\":0,\"successfulBuildCount\":0,\"unknownBuildCount\":0},\"byInstanceType\":{}},\"review\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"stateCount\":0,\"state\":null,\"dueDate\":null,\"overDue\":false,\"completed\":false},\"byInstanceType\":{}},\"deployment-environment\":{\"overall\":{\"count\":0,\"lastUpdated\":null,\"topEnvironments\":[],\"showProjects\":false,\"successfulCount\":0},\"byInstanceType\":{}},\"repository\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}},\"branch\":{\"overall\":{\"count\":0,\"lastUpdated\":null},\"byInstanceType\":{}}}},\"isStale\":false}}",
      "fixVersions": [
        {
          "self": "https://jira.antidot.net/rest/api/2/version/13607",
          "id": "13607",
          "name": "3.4.69",
          "archived": false,
          "released": false
        },
        {
          "self": "https://jira.antidot.net/rest/api/2/version/13609",
          "id": "13609",
          "name": "3.5.0.11",
          "archived": false,
          "released": false
        }
      ],
      "aggregatetimespent": null,
      "resolution": {
        "self": "https://jira.antidot.net/rest/api/2/resolution/10000",
        "id": "10000",
        "description": "GreenHopper Managed Resolution",
        "name": "Done"
      },
      "customfield_10500": null,
      "customfield_10302": null,
      "customfield_10700": null,
      "customfield_10900": null,
      "customfield_10901": null,
      "customfield_10902": null,
      "resolutiondate": "2019-02-06T10:48:07.000+0000",
      "customfield_10903": null,
      "workratio": -1,
      "lastViewed": "2019-02-06T13:11:59.489+0000",
      "watches": {
        "self": "https://jira.antidot.net/rest/api/2/issue/FT-4142/watchers",
        "watchCount": 2,
        "isWatching": false
      },
      "created": "2019-01-28T13:14:20.000+0000",
      "priority": {
        "self": "https://jira.antidot.net/rest/api/2/priority/3",
        "iconUrl": "https://jira.antidot.net/images/icons/priorities/major.svg",
        "name": "Medium",
        "id": "3"
      },
      "customfield_10100": null,
      "customfield_10101": "0|0072hf:i90i",
      "customfield_10102": "Fixes pdf-server and scheduler not logging into standard afs7 log directory",
      "labels": [],
      "customfield_10301": null,
      "timeestimate": null,
      "aggregatetimeoriginalestimate": null,
      "versions": [],
      "issuelinks": [],
      "assignee": {
        "self": "https://jira.antidot.net/rest/api/2/user?username=jgiard",
        "name": "jgiard",
        "key": "jgiard",
        "emailAddress": "jgiard@antidot.net",
        "avatarUrls": {
          "48x48": "https://jira.antidot.net/secure/useravatar?ownerId=jgiard&avatarId=10430",
          "24x24": "https://jira.antidot.net/secure/useravatar?size=small&ownerId=jgiard&avatarId=10430",
          "16x16": "https://jira.antidot.net/secure/useravatar?size=xsmall&ownerId=jgiard&avatarId=10430",
          "32x32": "https://jira.antidot.net/secure/useravatar?size=medium&ownerId=jgiard&avatarId=10430"
        },
        "displayName": "Jean Giard",
        "active": true,
        "timeZone": "Europe/Paris"
      },
      "updated": "2019-02-06T13:11:58.000+0000",
      "status": {
        "self": "https://jira.antidot.net/rest/api/2/status/11101",
        "description": "This status reflect that this story is reviewed by another person that the one who has worked on it.",
        "iconUrl": "https://jira.antidot.net/images/icons/statuses/generic.png",
        "name": "In Review",
        "id": "11101",
        "statusCategory": {
          "self": "https://jira.antidot.net/rest/api/2/statuscategory/4",
          "id": 4,
          "key": "indeterminate",
          "colorName": "yellow",
          "name": "In Progress"
        }
      },
      "components": [],
      "timeoriginalestimate": null,
      "description": "Workday told us that the pdf server logged in {color:#0747A6}/var/log/messages{color} (I didn't verify that) instead of logging in {color:#0747A6}/usr/local/afs7/logs/daemon/fluidtopics-pdf-server.log{color}. The latter being the destination configured in {color:#0747A6}/lib/systemd/system/fluidtopics-pdf-server.service{color} as follows:\r\n{noformat}\r\n...\r\n[Service]\r\n...\r\nEnvironment=\"LOGFILE=/usr/local/afs7/logs/daemon/fluidtopics-pdf-server.log\"\r\n...\r\n{noformat}\r\n\r\nOn {color:#FFBDAD}fluid-idx02{color} (prod 3.4), we can find _antidot_fluid_topics_pdf_server_ logs in {color:#0747A6}/var/log/daemon.log{color} (and the file {color:#0747A6}/usr/local/afs7/logs/daemon/fluidtopics-pdf-server.log{color} doesn't exist).",
      "customfield_10010": null,
      "customfield_11100": null,
      "customfield_11101": null,
      "customfield_11102": null,
      "customfield_10005": [
        "com.atlassian.greenhopper.service.sprint.Sprint@7970cc3a[id=273,rapidViewId=85,state=ACTIVE,name=Rondo - FT,startDate=2019-01-21T15:48:46.167Z,endDate=2019-02-11T15:48:00.000Z,completeDate=<null>,sequence=270,goal=Don't stop clusters now]"
      ],
      "customfield_10401": [],
      "customfield_10006": null,
      "customfield_10800": null,
      "attachment": [],
      "aggregatetimeestimate": null,
      "customfield_10606": null,
      "customfield_10607": null,
      "summary": "/lib/systemd/system/fluidtopics-pdf-server.service doesn't seem to be taken into account",
      "creator": {
        "self": "https://jira.antidot.net/rest/api/2/user?username=alaachibi",
        "name": "alaachibi",
        "key": "alaachibi",
        "emailAddress": "alaachibi@antidot.net",
        "avatarUrls": {
          "48x48": "https://jira.antidot.net/secure/useravatar?ownerId=alaachibi&avatarId=10403",
          "24x24": "https://jira.antidot.net/secure/useravatar?size=small&ownerId=alaachibi&avatarId=10403",
          "16x16": "https://jira.antidot.net/secure/useravatar?size=xsmall&ownerId=alaachibi&avatarId=10403",
          "32x32": "https://jira.antidot.net/secure/useravatar?size=medium&ownerId=alaachibi&avatarId=10403"
        },
        "displayName": "Ali LAACHIBI",
        "active": true,
        "timeZone": "Europe/Paris"
      },
      "subtasks": [],
      "reporter": {
        "self": "https://jira.antidot.net/rest/api/2/user?username=alaachibi",
        "name": "alaachibi",
        "key": "alaachibi",
        "emailAddress": "alaachibi@antidot.net",
        "avatarUrls": {
          "48x48": "https://jira.antidot.net/secure/useravatar?ownerId=alaachibi&avatarId=10403",
          "24x24": "https://jira.antidot.net/secure/useravatar?size=small&ownerId=alaachibi&avatarId=10403",
          "16x16": "https://jira.antidot.net/secure/useravatar?size=xsmall&ownerId=alaachibi&avatarId=10403",
          "32x32": "https://jira.antidot.net/secure/useravatar?size=medium&ownerId=alaachibi&avatarId=10403"
        },
        "displayName": "Ali LAACHIBI",
        "active": true,
        "timeZone": "Europe/Paris"
      },
      "customfield_10000": null,
      "aggregateprogress": {
        "progress": 0,
        "total": 0
      },
      "customfield_10001": null,
      "customfield_10002": null,
      "customfield_10200": null,
      "customfield_10004": "9223372036854775807",
      "customfield_10400": null,
      "environment": null,
      "duedate": null,
      "progress": {
        "progress": 0,
        "total": 0
      },
      "comment": {
        "comments": [
          {
            "self": "https://jira.antidot.net/rest/api/2/issue/37626/comment/57367",
            "id": "57367",
            "author": {
              "self": "https://jira.antidot.net/rest/api/2/user?username=cgaglio",
              "name": "cgaglio",
              "key": "cgaglio",
              "emailAddress": "cgaglio@antidot.net",
              "avatarUrls": {
                "48x48": "https://jira.antidot.net/secure/useravatar?ownerId=cgaglio&avatarId=10411",
                "24x24": "https://jira.antidot.net/secure/useravatar?size=small&ownerId=cgaglio&avatarId=10411",
                "16x16": "https://jira.antidot.net/secure/useravatar?size=xsmall&ownerId=cgaglio&avatarId=10411",
                "32x32": "https://jira.antidot.net/secure/useravatar?size=medium&ownerId=cgaglio&avatarId=10411"
              },
              "displayName": "Cyril Gaglio",
              "active": true,
              "timeZone": "Europe/Paris"
            },
            "body": "fluidtopics-pdf-server send log to stdout/stderr and systemd forward them to syslog\r\n\r\nFor writing the logs to /usr/local/afs7/logs/daemon/fluidtopics-pdf-server.log we should use : \r\n /lib/systemd/system/fluidtopics-pdf-server.service\r\n{code:java}[Service]\r\n...\r\nStandardOutput=append:/usr/local/afs7/logs/daemon/fluidtopics-pdf-server.log\r\n{code}\r\nBut for jessie the systemd version is too old. StandardOutput=... is available since systemd 2.36\r\n We must use :\r\n{code:java}[Service]\r\n...\r\nExecStart=/bin/bash -ce \"exec /usr/local/afs7/bin/antidot_fluid_topics_pdf_server >> /usr/local/afs7/logs/daemon/fluidtopics-pdf-server.log 2>&1\"\r\n{code}\r\nLike the other afs daemons a log rotate conf must be deployed.\r\n ex :\r\n{code:java}/usr/local/afs7/logs/daemon/fluidtopics-pdf-server.log {\r\n  copytruncate\r\n  compress\r\n  weekly\r\n  missingok\r\n  rotate 10\r\n}\r\n{code}\r\nDo not forget to add the directory : /usr/local/afs7/logs/daemon to the deb package\r\n Because if this directory does not exist, the daemon won't start",
            "updateAuthor": {
              "self": "https://jira.antidot.net/rest/api/2/user?username=cgaglio",
              "name": "cgaglio",
              "key": "cgaglio",
              "emailAddress": "cgaglio@antidot.net",
              "avatarUrls": {
                "48x48": "https://jira.antidot.net/secure/useravatar?ownerId=cgaglio&avatarId=10411",
                "24x24": "https://jira.antidot.net/secure/useravatar?size=small&ownerId=cgaglio&avatarId=10411",
                "16x16": "https://jira.antidot.net/secure/useravatar?size=xsmall&ownerId=cgaglio&avatarId=10411",
                "32x32": "https://jira.antidot.net/secure/useravatar?size=medium&ownerId=cgaglio&avatarId=10411"
              },
              "displayName": "Cyril Gaglio",
              "active": true,
              "timeZone": "Europe/Paris"
            },
            "created": "2019-02-01T15:38:40.000+0000",
            "updated": "2019-02-01T15:38:40.000+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "votes": {
        "self": "https://jira.antidot.net/rest/api/2/issue/FT-4142/votes",
        "votes": 0,
        "hasVoted": false
      },
      "worklog": {
        "startAt": 0,
        "maxResults": 20,
        "total": 0,
        "worklogs": []
      }
    }
  },
  "timestamp": 1549458719497
}
